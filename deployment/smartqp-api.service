[Unit]
Description=SmartQP FastAPI Application
After=network.target

[Service]
Type=exec
User=ubuntu
Group=ubuntu
WorkingDirectory=/var/www/smartqp-api
Environment=PATH=/var/www/smartqp-api/venv/bin
EnvironmentFile=/var/www/smartqp-api/.env
ExecStart=/var/www/smartqp-api/venv/bin/gunicorn app.main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000 --access-logfile /var/log/smartqp-api/access.log --error-logfile /var/log/smartqp-api/error.log
ExecReload=/bin/kill -s HUP $MAINPID
Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target